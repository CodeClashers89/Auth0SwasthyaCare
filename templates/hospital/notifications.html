{% extends 'base.html' %}

{% block title %}Notifications - SwasthyaCare{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">Notifications</h1>
    <p class="page-subtitle">Your recent notifications</p>
</div>

<div class="card">
    <div class="card-header">All Notifications</div>
    <div class="card-body">
        {% if notifications %}
        <ul class="info-list">
            {% for notification in notifications %}
            <li
                style="{% if not notification.is_read %}background-color: #f0f8ff; border-left: 3px solid var(--primary-color);{% endif %} padding: 15px; margin-bottom: 10px; border-radius: 8px;">
                <div style="display: flex; justify-content: space-between; align-items: start;">
                    <div style="flex: 1;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                            <strong style="font-size: 1.1em;">{{ notification.title }}</strong>
                            {% if not notification.is_read %}
                            <span class="badge badge-primary">New</span>
                            {% endif %}
                        </div>
                        <p style="margin: 8px 0; color: var(--text-primary);">{{ notification.message }}</p>
                        <small style="color: var(--text-secondary);">
                            {{ notification.created_at|date:"M d, Y h:i A" }}
                        </small>
                    </div>
                    <div>
                        {% if notification.related_surgery %}
                        {% if notification.notification_type == 'SURGERY_APPROVAL_PENDING' %}
                        <a href="{% url 'hospital:approve_surgery' notification.related_surgery.id %}"
                            class="btn btn-sm btn-primary">Review</a>
                        {% endif %}
                        {% endif %}
                    </div>
                </div>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <div class="empty-state">
            <div class="empty-state-icon">ðŸ””</div>
            <p class="empty-state-text">No notifications</p>
        </div>
        {% endif %}
    </div>
</div>

<div class="mt-3">
    <a href="javascript:history.back()" class="btn btn-secondary">Back</a>
</div>
{% endblock %}